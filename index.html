<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Energieberechnung-DLR_School_Lab</title>

    <!-- icon für den Tab, Ansicht im Browser -->
    <link rel="icon" href="./img/DLR_Logo.png" type="image/icon type">


    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
	    var energie = 0;
	    
        function update() {
            
            var ges = 1000 * Math.round(parseFloat(document.getElementById('in_ges').value) * 8, 0);
            document.getElementById('ges').innerHTML = "\\(\\left(" + ges + " \\frac m s\\right)^{2}\\)";
            
            var mas = parseFloat(document.getElementById('in_mas').value);
            document.getElementById('masse').innerHTML = "\\(" + mas.toFixed(0).replace('.', ',') + " kg\\)";
            						
	    energie = 0.5 * Math.pow(ges , 2) * mas;
            document.getElementById('calcenergie').innerHTML = "\\(" + (energie/1e9).toFixed(0).replace('.', ',') + "GJ\\)";
		
		updateImage();
		MathJax.typesetPromise();
        }
	    
	 function updateImage() {
		console.log("updateImage");
		text = "";
		var TNT = 4.2e12;
		
           	if(energie >= TNT && energie < (2*TNT)){
			text += "<img src='./img/e.png' width='50px'>";
			console.log(text);
	    	}
		else if(energie >= (2*TNT) && energie < (3*TNT)){
			text += "<img src='./img/e.png' width='50px'>";
			text += "<img src='./img/e.png' width='50px'>";
			console.log(text);
		}
		else if(energie >= (3*TNT)){
			text += "<img src='./img/e.png' width='50px'>";
			text += "<img src='./img/e.png' width='50px'>";
			text += "<img src='./img/e.png' width='50px'>";
			console.log(text);
		}
		else{ text = "<h8>Dein Astroid ist noch nicht stark genug!</h8>";
			console.log(text);
		    }
    			
	document.getElementById('bilder').innerHTML = text;
	 }
		 
		 
        window.onload = (() => {
			;
            update();
        });
    </script>
  
    <style>
      	body {
      		background: rgba(0,0,0,0);  /* transparent */
          color: #222;
      	}
      
        td {
            text-align: center;
        }
        
        body {
            font-family: Arial, sans-serif;
        }
        
        .vrange {
            width: 200px;
            margin-top: 100px;
            margin-left: 0px;
            margin-right: 0px;
            margin-bottom: 0px;
            transform: rotate(270deg);
            -moz-transform: rotate(270deg);
            /*do same for other browsers if required*/
        }
    </style>
</head>

<body>
    <h3>Energie des Einschlags</h3>
    <table>
        <tr>
            <td>\(\frac{1}{2}\)</td>
            <td>\(\cdot\)</td>
            <td>\(v^{2}\)</td>
            <td>\(\cdot\)</td>
            <td>\(m\)</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>Geschwindigkeit</td>
            <td></td>
            <td>Masse</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td><input type='range' min='1' max='9' step='0.05' id='in_ges' value='2.5' oninput='update();'></td>
            <td></td>
            <td><input type='range' min='100' max='10000' step='100' id='in_mas' value='400' oninput='update();'></td>
        <tr>
            <td>\(\frac {1}{2}\)</td>
            <td>\(\cdot\)</td>
            <td id='ges'></td>
            <td>\(\cdot\)</td>
            <td id='masse'></td>
            <td>\(=\)</td>
            <td id='calcenergie'></td>
        </tr>
        
    </table>
	<h6>Die Einschlagsenergie hat ungefähr ein Äuqivalent von </h6>
	<div id='bilder'>
	<h6>Wasserstoffbomben. </h6>
	<p>
	<p>
<a href="https://dlrschoollabba.github.io/Meteorite-Kraterberechnung">Hier gehts zur Größenberechnung des Einschlags.</a>
	
</body>

</html>
